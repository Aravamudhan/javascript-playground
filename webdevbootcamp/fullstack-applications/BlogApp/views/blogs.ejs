<% include layouts/header %>

<div class="ui main text container">
    <div class="ui huge header centered">BlogApp</div>
    <div class="ui top attached segment">
        <div class="ui divided items">
            <% blogsData.forEach(b=>{%>
            <div class="ui item">
                <div class="image">
                    <img src="<%= b.image %>"></img>
                </div>
                <div class="content">
                    <a class="header" href="/blogs/<%=b._id%>"><%= b.title %></a>
                    <div class="meta">
                        <span><%= b.created.toDateString() %></span>
                    </div>
                    <div class="description">
                        <p><% if(b.content && b.content.length && b.content.length>100) { %>
                        <!--The '-' instead of '=' renders the code by parsing it as HTML-->
                            <%- b.content.substring(0,100)%>...
                        <% } else { %>
                            <%- b.content %>
                        <% } %></p>                            
                    </div>
                    <div class="extra">
                        <a href="/blogs/<%=b._id%>" class="ui floated blue button">
                            Read more
                            <i class="right chevron icon"></i>
                        </a>
                    </div>
                </div>
            </div>
            <% });%>            
        </div>
    </div>
</div>

<% include layouts/footer %>